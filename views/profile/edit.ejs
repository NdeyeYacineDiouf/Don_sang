<%- include('../layout') %>

<div class="profile-edit">
  <h1>Modifier mon Profil</h1>
  
  <form action="/profile" method="POST">
    <div class="form-row">
      <div class="form-group">
        <label for="firstName">Prénom</label>
        <input type="text" id="firstName" name="firstName" value="<%= donor.firstName %>" required>
      </div>

      <div class="form-group">
        <label for="lastName">Nom</label>
        <input type="text" id="lastName" name="lastName" value="<%= donor.lastName %>" required>
      </div>
    </div>

    <div class="form-group">
      <label for="bloodGroup">Groupe sanguin</label>
      <select id="bloodGroup" name="bloodGroup" required>
        <option value="">Sélectionnez...</option>
        <% ['A+', 'A-', 'B+', 'B-', 'AB+', 'AB-', 'O+', 'O-'].forEach(group => { %>
          <option value="<%= group %>" <%= donor.bloodGroup === group ? 'selected' : '' %>>
            <%= group %>
          </option>
        <% }) %>
      </select>
    </div>

    <div class="form-group">
      <label for="medicalConditions">Conditions médicales (facultatif)</label>
      <textarea id="medicalConditions" name="medicalConditions"><%= donor.medicalConditions %></textarea>
    </div>

    <button type="submit" class="btn btn-primary">Enregistrer</button>
    <a href="/profile" class="btn">Annuler</a>
  </form>
</div>